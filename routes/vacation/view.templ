package vacation

import (
	"calendorario/pkg/database"
	"calendorario/pkg/session"
	"calendorario/pkg/templates"
	"calendorario/routes"
)

templ View(vacation database.Vacation, isNew bool) {
	{{
		s := session.FromContext(ctx)
		terms, _ := s.Database.ListTerms(ctx)
	}}
	@templates.FormScaffold(
		"Vacanza o festivit√†",
		routes.RouteVacation,
		int(vacation.ID),
		KeyID,
		isNew,
		[]templ.Component{
			templates.FormInputText("Nome della vacanza", KeyName, vacation.Name),
			templates.FormInputTwoDates(
				"Date di inizio e fine",
				KeyStartDate,
				vacation.StartDate,
				KeyEndDate,
				vacation.EndDate,
			),
			templates.FormInputSelectTerm(KeyTermID, int(vacation.TermID), terms),
		},
	)
}
